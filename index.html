<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Dicom ECG converter and viewer  by marcodebe</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Dicom ECG converter and viewer </h1>
      <h2 class="project-tagline">Dicom ECG Converter and Viewer. Convert to PDF, PNG, JPG, SVG, ...</h2>
      <a href="https://github.com/marcodebe/dicomecg_convert" class="btn">View on GitHub</a>
      <a href="https://github.com/marcodebe/dicomecg_convert/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/marcodebe/dicomecg_convert/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <p><img src="https://raw.github.com/marcodebe/dicomecg_convert/master/images/logo.png" alt="ECG Dicom Convert"></p>

<h1>
<a id="dicom-ecg-conversion" class="anchor" href="#dicom-ecg-conversion" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Dicom ECG Conversion</h1>

<p>A python module and relative tool to convert Dicom ECG (waveform) files to PDF, PNG, SVG, etc.
The DICOM file can also be specified as <code>studyUID seriesUID objectUID</code> and 
retrieved by your WADO server.</p>

<p><strong>THE PROGRAM IS DISTRIBUTED IN THE HOPE THAT IT WILL BE USEFUL, BUT WITHOUT ANY WARRANTY OF ANY KIND.</strong></p>

<h2>
<a id="try-it-online-first" class="anchor" href="#try-it-online-first" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Try it online first!</h2>

<p>You can use the <strong><a href="https://ecg.galliera.it">demo site</a></strong> to quickly test the results
before installing the software.
You can convert your own DICOM files, or use preloaded sample files from different modality models.</p>

<h2>
<a id="usage-of-convertpy-tool" class="anchor" href="#usage-of-convertpy-tool" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Usage of <code>convert.py</code> tool</h2>

<div class="highlight highlight-source-shell"><pre>python convert.py <span class="pl-k">&lt;</span>inputfile<span class="pl-k">&gt;</span> [--layout<span class="pl-k">=</span>LAYOUT] [--output<span class="pl-k">=</span>FILE<span class="pl-k">|</span>--format<span class="pl-k">=</span>FMT] --minor-grid
python convert.py <span class="pl-k">&lt;</span>stu<span class="pl-k">&gt;</span> <span class="pl-k">&lt;</span>ser<span class="pl-k">&gt;</span> <span class="pl-k">&lt;</span>obj<span class="pl-k">&gt;</span> [--layout<span class="pl-k">=</span>LAYOUT] [--output<span class="pl-k">=</span>FILE<span class="pl-k">|</span>--format<span class="pl-k">=</span>FMT] --minor-grid
python convert.py --help</pre></div>

<p>For example the file <a href="https://github.com/marcodebe/dicomecg_convert/blob/master/sample_files/anonymous_ecg_3x4_1.png">anonymous_ecg_3x4_1.png</a>
is generated by:</p>

<pre><code>python convert.py sample_files/anonymous_ecg.dcm -o sample_files/anonymous_ecg_4x3_1.pdf
</code></pre>

<p>The input can be a file or the triplet <code>studyUID, seriesUID, objectUID</code>. In the latter
case dicom file is downloaded via <a href="http://medical.nema.org/Dicom/2011/11_18pu.pdf">WADO</a>.</p>

<p>The ouput format is deduced from the extension of the <code>FILE</code>, if <code>--output</code> is given.
If the output file is not given <code>--format</code> must be defined.
Supported output formats are: eps, jpeg, jpg, pdf, pgf, png, ps, raw, rgba, svg, svgz, tif, tiff.</p>

<p>By default the 5mm grid is drawn, <code>--minor-grid</code> add the minor grid (1mm).</p>

<p>The signals are filtered using a lowpass (40 Hz)
<a href="http://en.wikipedia.org/wiki/Butterworth_filter">butterworth filter</a> 
of order 2.</p>

<p><code>LAYOUT</code> can be one of: 3x4_1 (that is 3 rows for 4 columns plus 1 row), 3x4, 6x2, 12x1 (default: 3x4_1).
New layouts can be defined adding the corresponding matrix in LAYOUT dictionary in <code>config.py</code>.</p>

<h2>
<a id="install" class="anchor" href="#install" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Install</h2>

<p>You first have to install some system library and a fortran compiler.
On a Debian machine:</p>

<div class="highlight highlight-source-shell"><pre>sudo apt-get install libpng12-dev
sudo apt-get install libblas-dev
sudo apt-get install liblapack-dev 
sudo apt-get install gfortran</pre></div>

<h3>
<a id="global-installation" class="anchor" href="#global-installation" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Global installation</h3>

<div class="highlight highlight-source-shell"><pre>sudo pip install -r requirements.txt
git clone git@github.com:marcodebe/dicomecg_convert.git
<span class="pl-c1">cd</span> dicomecg_convert
sudo python setup.py install</pre></div>

<h3>
<a id="inside-a-virtualenv" class="anchor" href="#inside-a-virtualenv" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Inside a virtualenv</h3>

<div class="highlight highlight-source-shell"><pre>git clone git@github.com:marcodebe/dicomecg_convert.git
<span class="pl-c1">cd</span> dicomecg_convert
virtualenv <span class="pl-c1">.</span>
<span class="pl-c1">.</span> bin/activate
pip install -r requirements.txt
python setup.py install</pre></div>

<h2>
<a id="documentation" class="anchor" href="#documentation" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Documentation</h2>

<p>To generate documentation use epydoc packages:</p>

<div class="highlight highlight-source-shell"><pre><span class="pl-c1">cd</span> path/to/dicomecg_convert
epydoc --html -o docs ecg.py</pre></div>

<p>Read epydoc manual for other output formats and options:</p>

<div class="highlight highlight-source-shell"><pre>epydoc -h</pre></div>

<p>To install the epydoc package on:</p>

<div class="highlight highlight-source-shell"><pre>sudo pip install epydoc</pre></div>

<p>or download the installation package from <a href="http://epydoc.sourceforge.net/">Epydoc</a> and follow the instructions.</p>

<h2>
<a id="references" class="anchor" href="#references" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>References</h2>

<ul>
<li><a href="http://medical.nema.org/Dicom/supps/sup30_lb.pdf">http://medical.nema.org/Dicom/supps/sup30_lb.pdf</a></li>
<li><a href="http://dicomlookup.com/html/03_03PU.html#LinkTarget_229354">http://dicomlookup.com/html/03_03PU.html#LinkTarget_229354</a></li>
<li><a href="http://libir.tmu.edu.tw/bitstream/987654321/21661/1/B09.pdf">http://libir.tmu.edu.tw/bitstream/987654321/21661/1/B09.pdf</a></li>
<li><a href="http://www.mortara.com/fileadmin/user_upload/global/Products/Healthcare/DICOM/ELI%20Electrocardiographs%20DICOM%20Conformance%20Statement.pdf">Mortara ECG Conformance Statement</a></li>
</ul>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/marcodebe/dicomecg_convert">Dicom ECG converter and viewer </a> is maintained by <a href="https://github.com/marcodebe">marcodebe</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>
